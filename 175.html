<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style src=".css" type="css/text"></style>
    <link rel="stylesheet" href="stylesite.css">
    <title>Question 175</title>
</head>
<body>
    <header class="container">
    <h1>QUESTION 175<span style="color:red">ERRATA</span>
    </h1>
    <h4>inputs change/keydown para key no permitido</h4>
    </header>
    <article class="container">
        <p>
            You develop an HTML5 webpage. You have the following HTML markup:<br>
            &lt;input type="text" id="username" /&gt;<br>
            You need to prevent users from entering specific characters into the username field.<br>
            What should you do?<br>
            <ul>
                <li>Using the <strong>keyup</strong> event, add an anonymous function that returns <strong>true</strong> when a specific character keycode
                    value is determined.</li>
                <li>Using the <strong>change</strong> event, add an anonymous function that returns <strong>true</strong> when a specific character
                    keycode value is determined.
                    </li>
                <li> Using the <strong>keydown</strong> event, add an anonymous function that returns <strong>false</strong> when a specific character
                    keycode value is determined.</li>
                <li>Using the <strong>change</strong> event, add an anonymous function that returns <strong>false</strong> when a specific character
                    keycode value is determined.</li>
            </ul>
        </p>
        <p><span style="color:red">ERRATA</span>Solución:  B</p><span style="color:red">ERRATA</span> 
        <p>Explanation 
        <p><span style="color:red">ERRATA</span> The change event is fired for  input , select, and textarea elements when a change to the element's
            value is committed by the user.<br>
            Use the change event and an anonymous function to detect illegal specific characters in the input.<br>
            <span style="color:red">ERRATA</span> </p>
            

<p>SOLUCION CORRECTA C: <br>
    Con keydown puedo interceptar el keycode y devolver falso si no es válido con ello consigo que el caracter no se escriba en la caja de texto<br>
    change se dispara al perder el focus con lo que no consigo interceptar el carcater no válido, me toca recorrer la cadena para verificar todos sus caracteresnovalidos<br>
    keyup con true permite detectar el carcater pero no que no se inserta en la caja de texto<br>
    </p>




    </article>



    <div class="container">
         
        <fieldset><legend>en ele ejemplo no permito numeros  en las cajas de texto ni la @</legend> 
            <input id="input1"  type="text" size="20" maxlength="10" placeholder="keyup + true" ><span id="exp1"> </span><br>
            <input id="input2"  type="text" size="20" maxlength="10" placeholder="change + true" > <span id="exp2"> </span><br>
            <input id="input3"  type="text" size="20" maxlength="10" placeholder="keydown + false" > <span id="exp3"> </span><br>
            <input id="input4"  type="text" size="20" maxlength="10" placeholder="change + false" > <span id="exp4"> </span><br>
 
        </fieldset>
     </div> 

<script>

caracteresnovalidos =['0','2','4','6','8','1','3','5','7','9','@'];
const input1= $("#input1");
const input2= $("#input2");
const input3= $("#input3");
const input4= $("#input4");
 
addListeners( );

 
 
function addListeners(){

input1.on("keyup",function(event){
    var x = event.which || event.keyCode;
    $("#exp1").text("");
    if (caracteresnovalidos.indexOf(String.fromCharCode(x)) > -1 ) 
    {
        $("#exp1").text("números ó @ no válidos");
        return (false)
    } ;
});


input2.on("change",function(event){
    $("#exp2").text("");
    var cadena = event.target.value;
    for (i=0; i< cadena.length -1 ; i ++)
    {     
         if (caracteresnovalidos.indexOf(cadena.charAt(i)) > -1 ) 
         $("#exp2").text("números ó @ no válidos");
         return (false)
    } ;

});


input3.on("keydown",function(event){

    var x = event.which || event.keyCode;
    $("#exp3").text("");
 
    if (caracteresnovalidos.indexOf(String.fromCharCode(x)) > -1 ) 
    {
        $("#exp3").text("números ó @ no válidos");
        return (false)
    } ;
});

input4.on("change",function(event){
    $("#exp4").text("");
    var cadena = event.target.value;
    for (i=0; i< cadena.length -1 ; i ++)
    {     
         if (caracteresnovalidos.indexOf(cadena.charAt(i)) > -1 ) 
         $("#exp4").text("números ó @ no válidos");
         return (false)
    } ;

});
}

 
/*
input1= document.getElementById("input1");
tonkeypress= document.getElementById("tonkeypress");
addListeners( );




    tonkeypress.addEventListener('keypress', function (event){ 
        var x = event.which || event.keyCode;
        alert (event);
        return false;
        },false
            
            
            );
   
 



    input1.addEventListener('change', function (){ 
        if (input1.value=="ss") 
        { alert();
            return false;
        }
        
        },false
            
            
            );
 
 
}
*/
 
</script>

   
<br>

</body>
</html>